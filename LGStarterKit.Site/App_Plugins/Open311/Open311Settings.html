<div ng-controller="Jumoo.LocalGov311.SettingsController">

    <div class="umb-dashboard-control">
        <h3>Open311 Settings</h3>
        <p>
            The LocalGovOpen311 plugin, presents the content data for your site in
            <a href="http://www.open311.org/">Open311 Inqury format</a>.
        </p>
        <p>
            This allows other applications/sites/code to programatically discover
            the content across the site.
        </p>
        <p>
            This implimentation of open311 uses the <a href="http://standards.esd.org.uk/?uri=list%2Fservices&tab=details">ESD Service ID</a> to identify content. this means that
            content could be identified across different sites with theses ids.             
        </p>
        <h4 class="page-header">Settings</h4>
        <p>
            These are the settings for the basic Open311 Inqury API for this site.
            These settings are set in <strong>Open311.config</strong> in the config folder of the site.
        </p>
        <table class="table">
            <tr><td>Api Root:</td><td><a href="/{{ApiRoot}}/Inquiry/">{{ApiRoot}}/Inquiry/</a></td>
            <td>this is the place on your site that you can see the Open311 data</td></tr>
            <tr>
                <td>Use the ESD Service id as the main Id</td>
                <td>
                    <input type="checkbox" ng-checked="useEsdAsId" disabled/>
                </td>
                <td>When set, The Id field for each service will be it's ESD Id</td>
            </tr>
        </table>

        <table class="table">
            <thead>
                <tr>
                    <th>Returned Field</th>
                    <th>Umbraco Field Name</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>ESD Id</td><td>{{fields.EsdId}}</td><td>Only pages with this property set will be shown.</td></tr>
                <tr><td>Title</td><td>{{fields.Title}}</td></tr>
                <tr><td>Description</td><td>{{fields.Description}}</td></tr>
                <tr><td>Summary</td><td>{{fields.Summary}}</td></tr>
                <tr><td>Expiry</td><td>{{fields.Expiry}}</td></tr>
            </tbody>
        </table>

        <p>The Cache current has {{cacheCount}} services listed <em>The cache is loaded when a call is made to the API URL...</em></p>
    </div>
</div>